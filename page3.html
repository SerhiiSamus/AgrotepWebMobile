<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,300;0,400;0,500;0,700;0,900;1,400;1,500;1,700;1,900&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="page3.css" />
  </head>
  <body>
    <header class="header">
      <span class="temperature"> set: -20 -21</span>
      <img src="logo.png" alt="" class="logo" />
      <span class="temperature">box: -19 -23</span>
    </header>
    <main>
      <div class="navigation">
        <div class="nav-item">
          <a class="nav-link" href="orders.html">
            <svg
              width="29"
              height="30"
              viewBox="0 0 29 30"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M1.50898 13.5858C0.727929 14.3668 0.727929 15.6332 1.50898 16.4142L14.2369 29.1421C15.0179 29.9232 16.2843 29.9232 17.0653 29.1421C17.8464 28.3611 17.8464 27.0948 17.0653 26.3137L5.75162 15L17.0653 3.68629C17.8464 2.90524 17.8464 1.63891 17.0653 0.857864C16.2843 0.0768158 15.0179 0.0768158 14.2369 0.857864L1.50898 13.5858ZM29 13L2.92319 13V17H29V13Z"
                fill="#2D3A4C"
              /></svg
          ></a>
        </div>
        <div class="nav-item info">i</div>
      </div>
      <div class="driver-info">
        <p class="driver-car">AA1111SS/TT4444XX</p>
        <p class="driver-name">Шевченко В. І.</p>
      </div>
      <div class="cargo-info">
        <p class="cargo-address">Необхідно додати документи CMR</p>
        <label for="fileInput" style="margin-bottom: 20px; margin-top: 20px">
          <div class="photo-icon">
            <svg
              viewBox="0 0 512 512"
              version="1.1"
              xmlns="http://www.w3.org/2000/svg"
              xmlns:xlink="http://www.w3.org/1999/xlink"
              fill="#000000"
            >
              <g id="SVGRepo_bgCarrier" stroke-width="0"></g>
              <g
                id="SVGRepo_tracerCarrier"
                stroke-linecap="round"
                stroke-linejoin="round"
              ></g>
              <g id="SVGRepo_iconCarrier">
                <title>photo-camera-filled</title>
                <g
                  id="Page-1"
                  stroke="none"
                  stroke-width="1"
                  fill="none"
                  fill-rule="evenodd"
                >
                  <g
                    id="icon"
                    fill="#ffffff"
                    transform="translate(42.666667, 64.000000)"
                  >
                    <path
                      d="M277.333333,1.42108547e-14 C277.333333,1.42108547e-14 277.681778,0.557511111 278.378667,1.67253333 L278.698667,2.18453333 C279.438222,3.36782222 280.478222,5.03182222 281.818667,7.17653333 L282.458667,8.20053333 C283.891556,10.4931556 285.624889,13.2664889 287.658667,16.5205333 L288.618667,18.0565333 C290.744889,21.4584889 293.171556,25.3411556 295.898667,29.7045333 L297.178667,31.7525333 C299.998222,36.2638222 303.118222,41.2558222 306.538667,46.7285333 L308.138667,49.2885333 C311.003462,53.8722052 314.068069,58.775577 317.332489,63.9986486 L426.666667,64 L426.666667,362.666667 L7.10542736e-15,362.666667 L7.10542736e-15,64 L109.333,64 L149.333333,1.42108547e-14 L277.333333,1.42108547e-14 L277.333333,1.42108547e-14 Z M213.333333,85.3333333 C148.531923,85.3333333 96,137.865256 96,202.666667 C96,267.468077 148.531923,320 213.333333,320 C278.134744,320 330.666667,267.468077 330.666667,202.666667 C330.666667,137.865256 278.134744,85.3333333 213.333333,85.3333333 Z M213.333333,128 C254.570595,128 288,161.429405 288,202.666667 C288,243.903928 254.570595,277.333333 213.333333,277.333333 C172.096072,277.333333 138.666667,243.903928 138.666667,202.666667 C138.666667,161.429405 172.096072,128 213.333333,128 Z M384,106.666667 C372.217925,106.666667 362.666667,116.217925 362.666667,128 C362.666667,139.782075 372.217925,149.333333 384,149.333333 C395.782075,149.333333 405.333333,139.782075 405.333333,128 C405.333333,116.217925 395.782075,106.666667 384,106.666667 Z"
                      id="Combined-Shape"
                    ></path>
                  </g>
                </g>
              </g>
            </svg>
          </div>
          <span>камера</span>
        </label>
        <input
          id="fileInput"
          class="file"
          type="file"
          accept="image/*"
          capture="environment"
          multiple
          style="display: none"
        />
        <div id="previewContainer" class="prewiew-container"></div>
        <!-- <a href="page3.html" class="btn crm">Додати CRM</a> -->
      </div>
      <div class="buttons">
        <a href="page4.html" class="btn donwload">Завантажився</a>
        <button class="btn coment">Коментар</button
        ><button class="btn wait">Простій</button>
      </div>
      <div class="modal-bg hide"></div>
      <div class="info-modal hide">
        <span class="info-close">X</span>
        <p class="info-text">
          <span style="font-weight: 700">Завантаження:</span>
          <br />
          10.06 9:00,Havi Kiosk, St. Pauli Fischmarkt 5, 20359 Hamburg, DE
          <br />
          <a
            href="https://www.google.com.ua/maps/place/53%C2%B032'44.7%22N+9%C2%B057'15.9%22E/@53.5457532,9.9518418,17z/data=!3m1!4b1!4m4!3m3!8m2!3d53.54575!4d9.9544167?hl=ru&entry=ttu"
            target="_blank"
            >карта</a
          >
        </p>
        <p class="info-text">
          <span style="font-weight: 700">Замитнення: </span>
          <br />
          10.06 15:00, Rigaer Str. 54, Berlin, DE <br />
          <a
            href="https://www.google.com.ua/maps/place/53%C2%B032'44.7%22N+9%C2%B057'15.9%22E/@53.5457532,9.9518418,17z/data=!3m1!4b1!4m4!3m3!8m2!3d53.54575!4d9.9544167?hl=ru&entry=ttu"
            target="_blank"
            >карта</a
          >
        </p>
        <p class="info-text">Дорогуськ/Ягодин</p>
        <p class="info-text">
          <span style="font-weight: 700">Розмитнання/Розвантаження: </span>
          <br />
          15.06 9:00 Набережна вулиця, 7, Рівне, Рівенська обл., <br />
          <a
            href="https://www.google.com.ua/maps/place/53%C2%B032'44.7%22N+9%C2%B057'15.9%22E/@53.5457532,9.9518418,17z/data=!3m1!4b1!4m4!3m3!8m2!3d53.54575!4d9.9544167?hl=ru&entry=ttu"
            target="_blank"
            >карта</a
          >
        </p>
        <p class="info-text">
          <span style="font-weight: 700">Вантаж: </span>
          морозиво -18 -20С,
          <span style="font-weight: 700"> постійний;</span>
        </p>
        <p class="info-text">
          <span style="font-weight: 700">Додаткові умови:</span>
          Після отримання документів обов'язково набрати логіста!
        </p>
        <p class="info-text">
          <span style="font-weight: 700">Логіст: </span>Віктор Касян
        </p>
      </div>

      <div class="coment-modal hide">
        <span class="coment-close">X</span>
        <form class="coment-form" action="">
          <label for="coment-text">Залиште свій коментар</label>
          <textarea
            class="coment-text"
            name="coment-text"
            id="coment-text"
          ></textarea>
          <input
            class="file"
            type="file"
            accept="image/*"
            capture="environment"
          />
          <button class="btn donwload">Відправити</button>
        </form>
      </div>
      <div class="wait-modal hide">
        <span class="wait-close">X</span>
        <form class="wait-form" action="">
          <label for="wait-text">Залиште свій коментар</label>
          <textarea
            class="wait-text"
            name="wait-text"
            id="wait-text"
          ></textarea>
          <button class="btn bad">Простій</button>
        </form>
      </div>
    </main>
    <script>
      const fileInput = document.getElementById('fileInput');
      const previewContainer = document.getElementById('previewContainer');
      let allFiles = [];

      fileInput.addEventListener('change', (event) => {
        const files = event.target.files;
        allFiles = [...allFiles, ...files];
        updateInputValue();
        updatePreview();
      });

      function updatePreview() {
        previewContainer.innerHTML = '';

        allFiles.forEach((file, index) => {
          const fileReader = new FileReader();
          fileReader.onload = (e) => {
            const img = document.createElement('img');
            img.src = e.target.result;
            img.alt = file.name;
            img.className = 'preview-item';
            img.dataset.index = index;

            img.addEventListener('click', () => {
              toggleFullscreen(img);
            });

            previewContainer.appendChild(img);
          };
          fileReader.readAsDataURL(file);
        });
      }

      function toggleFullscreen(img) {
        const overlay = document.createElement('div');
        overlay.className = 'fullscreen-overlay';

        const fullscreenImg = document.createElement('img');
        fullscreenImg.src = img.src;
        fullscreenImg.className = 'fullscreen-img';

        const closeBtn = document.createElement('button');
        closeBtn.innerHTML = '&times;';
        closeBtn.className = 'close-btn';
        closeBtn.addEventListener('click', () => {
          removeFile(parseInt(img.dataset.index));
          document.body.removeChild(overlay);
        });

        fullscreenImg.addEventListener('click', () => {
          document.body.removeChild(overlay);
        });

        overlay.appendChild(fullscreenImg);
        overlay.appendChild(closeBtn);
        document.body.appendChild(overlay);
      }

      function removeFile(index) {
        allFiles.splice(index, 1);
        updateInputValue();
        updatePreview();
      }

      function updateInputValue() {
        const dataTransfer = new DataTransfer();

        allFiles.forEach((file) => {
          dataTransfer.items.add(file);
        });

        fileInput.files = dataTransfer.files;
      }
    </script>
    <script>
      const infobtn = document.querySelector('.info');
      const waitbtn = document.querySelector('.wait');
      const comentbtn = document.querySelector('.coment');
      const infobtnClose = document.querySelector('.info-close');
      const infomodal = document.querySelector('.info-modal');
      const comentbtnClose = document.querySelector('.coment-close');
      const comentmodal = document.querySelector('.coment-modal');
      const waitbtnClose = document.querySelector('.wait-close');
      const waitmodal = document.querySelector('.wait-modal');
      const bgmodal = document.querySelector('.modal-bg');
      infobtn.addEventListener('click', () => {
        bgmodal.classList.toggle('hide');
        infomodal.classList.toggle('hide');
      });
      infobtnClose.addEventListener('click', () => {
        bgmodal.classList.toggle('hide');
        infomodal.classList.toggle('hide');
      });
      waitbtn.addEventListener('click', () => {
        bgmodal.classList.toggle('hide');
        waitmodal.classList.toggle('hide');
      });
      waitbtnClose.addEventListener('click', () => {
        bgmodal.classList.toggle('hide');
        waitmodal.classList.toggle('hide');
      });
      comentbtn.addEventListener('click', () => {
        bgmodal.classList.toggle('hide');
        comentmodal.classList.toggle('hide');
      });
      comentbtnClose.addEventListener('click', () => {
        bgmodal.classList.toggle('hide');
        comentmodal.classList.toggle('hide');
      });
    </script>
  </body>
</html>
